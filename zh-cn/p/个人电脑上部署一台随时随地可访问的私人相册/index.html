<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='Deploy a Personal Photo Album Accessible Anytime, Anywhere on Your Personal Computer'>
<title>个人电脑上部署一台随时随地可访问的私人相册</title>

<link rel='canonical' href='https://javenjin.github.io/blog/zh-cn/p/%E4%B8%AA%E4%BA%BA%E7%94%B5%E8%84%91%E4%B8%8A%E9%83%A8%E7%BD%B2%E4%B8%80%E5%8F%B0%E9%9A%8F%E6%97%B6%E9%9A%8F%E5%9C%B0%E5%8F%AF%E8%AE%BF%E9%97%AE%E7%9A%84%E7%A7%81%E4%BA%BA%E7%9B%B8%E5%86%8C/'>

<link rel="stylesheet" href="/blog/scss/style.min.3a2504374c2bd1bc51c39e9c286d2821ebf00b1d2086320785cf01db49e64bc9.css"><meta property='og:title' content='个人电脑上部署一台随时随地可访问的私人相册'>
<meta property='og:description' content='Deploy a Personal Photo Album Accessible Anytime, Anywhere on Your Personal Computer'>
<meta property='og:url' content='https://javenjin.github.io/blog/zh-cn/p/%E4%B8%AA%E4%BA%BA%E7%94%B5%E8%84%91%E4%B8%8A%E9%83%A8%E7%BD%B2%E4%B8%80%E5%8F%B0%E9%9A%8F%E6%97%B6%E9%9A%8F%E5%9C%B0%E5%8F%AF%E8%AE%BF%E9%97%AE%E7%9A%84%E7%A7%81%E4%BA%BA%E7%9B%B8%E5%86%8C/'>
<meta property='og:site_name' content='Javen Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Tools' /><meta property='article:published_time' content='2025-11-24T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2025-11-24T00:00:00&#43;00:00'/>
<meta name="twitter:title" content="个人电脑上部署一台随时随地可访问的私人相册">
<meta name="twitter:description" content="Deploy a Personal Photo Album Accessible Anytime, Anywhere on Your Personal Computer">
    <link rel="shortcut icon" href="https://raw.githubusercontent.com/JavenJin/blog-image/b48e6cab82c8d082866b1e6733ab5ea9be33de2c/favicon/favicon.svg" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="切换菜单">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/blog/zh-cn/">
                
                    
                    
                    
                        
                        <img src="/blog/img/avatar_hu_c5e52b2c0ee11a6a.jpg" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">🤩</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/blog/zh-cn">Javen Blog</a></h1>
            <h2 class="site-description">Javen.</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/javenjin'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://instagram.com/javenjin98'
                        target="_blank"
                        title="Ins"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-mail" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path d="M16.65 7.2H16.66M8 20H16C18.2091 20 20 18.2091 20 16V8C20 5.79086 18.2091 4 16 4H8C5.79086 4 4 5.79086 4 8V16C4 18.2091 5.79086 20 8 20ZM15.75 12C15.75 14.0711 14.0711 15.75 12 15.75C9.92893 15.75 8.25 14.0711 8.25 12C8.25 9.92893 9.92893 8.25 12 8.25C14.0711 8.25 15.75 9.92893 15.75 12Z"/>
</svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='mailto:wenjie.jin@hotmail.com'
                        target="_blank"
                        title="Mail"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-mail" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path d="M4 6L10.1076 10.6123L10.1097 10.614C10.7878 11.1113 11.1271 11.3601 11.4988 11.4562C11.8272 11.5412 12.1725 11.5412 12.501 11.4562C12.8729 11.36 13.2132 11.1105 13.8926 10.6123C13.8926 10.6123 17.8101 7.60594 20 6M3 15.8002V8.2002C3 7.08009 3 6.51962 3.21799 6.0918C3.40973 5.71547 3.71547 5.40973 4.0918 5.21799C4.51962 5 5.08009 5 6.2002 5H17.8002C18.9203 5 19.4796 5 19.9074 5.21799C20.2837 5.40973 20.5905 5.71547 20.7822 6.0918C21 6.5192 21 7.07899 21 8.19691V15.8036C21 16.9215 21 17.4805 20.7822 17.9079C20.5905 18.2842 20.2837 18.5905 19.9074 18.7822C19.48 19 18.921 19 17.8031 19H6.19691C5.07899 19 4.5192 19 4.0918 18.7822C3.71547 18.5905 3.40973 18.2842 3.21799 17.9079C3 17.4801 3 16.9203 3 15.8002Z" />
</svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/blog/zh-cn/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>主页</span>
            </a>
        </li>
        
        
        <li >
            <a href='/blog/zh-cn/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>关于</span>
            </a>
        </li>
        
        
        <li >
            <a href='/blog/zh-cn/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>归档</span>
            </a>
        </li>
        
        
        <li >
            <a href='/blog/zh-cn/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>搜索</span>
            </a>
        </li>
        
        
        <li >
            <a href='/blog/zh-cn/%E9%93%BE%E6%8E%A5/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>链接</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
                <li id="i18n-switch">  
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                    <select name="language" onchange="window.location.href = this.selectedOptions[0].value">
                        
                            <option value="https://javenjin.github.io/blog/" >English</option>
                        
                            <option value="https://javenjin.github.io/blog/zh-cn/" selected>中文</option>
                        
                    </select>
                </li>
            
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>暗色模式</span>
                </li>
            
        </div>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">目录</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#最终目标">最终目标</a></li>
    <li><a href="#阶段-1--安装-docker-desktop">阶段 1 ： 安装 Docker Desktop</a>
      <ol>
        <li><a href="#下载-docker-desktop官方最新版">下载 Docker Desktop（官方最新版）</a></li>
        <li><a href="#安装完成后会自动重启或提示启用-wsl2后台更新勾选use-wsl2-instead-of-hyper-v--完成">安装完成后会自动重启或提示启用 WSL2，后台更新，勾选“Use WSL2 instead of Hyper-V” → 完成。</a></li>
        <li><a href="#启动-docker-desktop桌面会出现小鲸鱼图标变绿表示正常">启动 Docker Desktop（桌面会出现小鲸鱼图标，变绿表示正常）。</a></li>
        <li><a href="#可选但推荐设置开机自启右下角小鲸鱼右键--settings--general--start-docker-desktop-when-you-log-in">（可选但推荐）设置开机自启：右下角小鲸鱼右键 → Settings → General → Start Docker Desktop when you log in。</a></li>
      </ol>
    </li>
    <li><a href="#阶段-2--一键部署immich图形化两行命令">阶段 2 ： 一键部署Immich（图形化+两行命令）</a>
      <ol>
        <li><a href="#新建一个文件夹当项目目录建议放在大容量磁盘">新建一个文件夹当项目目录（建议放在大容量磁盘）</a></li>
        <li><a href="#在这个文件夹里右键--在终端中打开-或-powershell-这里打开">在这个文件夹里右键 → “在终端中打开” 或 “PowerShell 这里打开”</a></li>
        <li><a href="#直接复制粘贴下面两行命令一次一行回车执行">直接复制粘贴下面两行命令（一次一行，回车执行）：</a></li>
        <li><a href="#下载完成后你会看到文件夹里多了两个文件docker-composeyml-和-env">下载完成后，你会看到文件夹里多了两个文件：<code>docker-compose.yml</code> 和 <code>.env</code></a></li>
        <li><a href="#双击打开-env-文件用记事本或-notepad修改以下几行其他保持不动">双击打开 <code>.env</code> 文件（用记事本或 Notepad++），修改以下几行（其他保持不动）：</a></li>
        <li><a href="#回到刚才的终端窗口一键启动-immich">回到刚才的终端窗口，一键启动 Immich：</a></li>
        <li><a href="#启动完毕后浏览器打开-httplocalhost2283">启动完毕后，浏览器打开 http://localhost:2283</a></li>
      </ol>
    </li>
    <li><a href="#阶段-3--用-tailscale-实现公网访问">阶段 3 ： 用 Tailscale 实现公网访问</a>
      <ol>
        <li><a href="#注册-tailscale-账号">注册 Tailscale 账号</a></li>
        <li><a href="#在要远程的设备上安装-tailscale-客户端">在要远程的设备上安装 Tailscale 客户端</a></li>
        <li><a href="#开启-funnel">开启 Funnel</a></li>
        <li><a href="#一键暴露本地服务">一键暴露本地服务</a></li>
        <li><a href="#成功后终端会立刻显示你的公网地址例如">成功后终端会立刻显示你的公网地址，例如：</a></li>
        <li><a href="#后台运行开机自启">后台运行，开机自启</a></li>
      </ol>
    </li>
    <li><a href="#最终测试">最终测试</a>
      <ol>
        <li><a href="#手机下载-immich-app官网--或应用商店搜索-immich">手机下载 Immich App（官网 https://immich.app/ 或应用商店搜索 Immich）</a></li>
        <li><a href="#打开-app--手动添加服务器--输入你刚才拿到的公网地址">打开 App → 手动添加服务器 → 输入你刚才拿到的公网地址</a></li>
        <li><a href="#用刚才注册的账号登录--开启自动备份--几秒后就能看到手机照片开始上传了">用刚才注册的账号登录 → 开启“自动备份” → 几秒后就能看到手机照片开始上传了！</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/blog/zh-cn/categories/tools/" >
                Tools
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/blog/zh-cn/p/%E4%B8%AA%E4%BA%BA%E7%94%B5%E8%84%91%E4%B8%8A%E9%83%A8%E7%BD%B2%E4%B8%80%E5%8F%B0%E9%9A%8F%E6%97%B6%E9%9A%8F%E5%9C%B0%E5%8F%AF%E8%AE%BF%E9%97%AE%E7%9A%84%E7%A7%81%E4%BA%BA%E7%9B%B8%E5%86%8C/">个人电脑上部署一台随时随地可访问的私人相册</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            Deploy a Personal Photo Album Accessible Anytime, Anywhere on Your Personal Computer
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Nov 24, 2025</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    阅读时长: 1 分钟
                </time>
            </div>
        
    </footer>
    

    
        <footer class="article-translations">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



            <div>
                
                    <a href="https://javenjin.github.io/blog/p/deploy-a-personal-photo-album-accessible-anytime-anywhere-on-your-personal-computer/" class="link">English</a>
                
            </div>
        </footer>
    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="个人电脑上部署一台随时随地可访问的私人相册">个人电脑上部署一台随时随地可访问的私人相册</h1>
<p>目标是想在个人电脑上安装<em>Immich</em>（一个自托管的照片/视频备份服务器，支持移动端备份，类似于Google Photos）作为核心备份服务，并使用<em>Tailscale</em>（一个基于WireGuard的零配置VPN工具）来实现远程访问（将本地服务安全地暴露到公网）。</p>
<p>这个组合适合个人备份场景：<em>Immich</em>处理备份存储，<em>Tailscale</em>解决内网穿透问题，无需复杂配置且安全可靠。</p>
<h2 id="最终目标">最终目标</h2>
<ul>
<li>Immich 运行在本地 http://localhost:2283</li>
<li>通过 Tailscale Funnel 把 2283 端口穿透到公网</li>
<li>手机 App 用公网域名就能随时自动备份照片/视频</li>
</ul>
<h2 id="阶段-1--安装-docker-desktop">阶段 1 ： 安装 Docker Desktop</h2>
<h3 id="下载-docker-desktop官方最新版">下载 Docker Desktop（官方最新版）</h3>
<blockquote>
<p><a class="link" href="https://www.docker.com/products/docker-desktop/"  target="_blank" rel="noopener"
    >https://www.docker.com/products/docker-desktop/</a></p>
</blockquote>
<p>直接点“Download for Windows” -&gt; 双击安装（一路Next即可）</p>
<h3 id="安装完成后会自动重启或提示启用-wsl2后台更新勾选use-wsl2-instead-of-hyper-v--完成">安装完成后会自动重启或提示启用 WSL2，后台更新，勾选“Use WSL2 instead of Hyper-V” → 完成。</h3>
<h3 id="启动-docker-desktop桌面会出现小鲸鱼图标变绿表示正常">启动 Docker Desktop（桌面会出现小鲸鱼图标，变绿表示正常）。</h3>
<h3 id="可选但推荐设置开机自启右下角小鲸鱼右键--settings--general--start-docker-desktop-when-you-log-in">（可选但推荐）设置开机自启：右下角小鲸鱼右键 → Settings → General → Start Docker Desktop when you log in。</h3>
<h2 id="阶段-2--一键部署immich图形化两行命令">阶段 2 ： 一键部署Immich（图形化+两行命令）</h2>
<h3 id="新建一个文件夹当项目目录建议放在大容量磁盘">新建一个文件夹当项目目录（建议放在大容量磁盘）</h3>
<p>例如：<code>D:\Immich-Backup</code> (照片会存这里，空间要够大)</p>
<h3 id="在这个文件夹里右键--在终端中打开-或-powershell-这里打开">在这个文件夹里右键 → “在终端中打开” 或 “PowerShell 这里打开”</h3>
<h3 id="直接复制粘贴下面两行命令一次一行回车执行">直接复制粘贴下面两行命令（一次一行，回车执行）：</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="nb">Invoke-WebRequest</span> <span class="n">-Uri</span> <span class="n">https</span><span class="err">:</span><span class="p">//</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="nb">immich-app</span><span class="p">/</span><span class="n">immich</span><span class="p">/</span><span class="n">releases</span><span class="p">/</span><span class="n">latest</span><span class="p">/</span><span class="n">download</span><span class="p">/</span><span class="nb">docker-compose</span><span class="p">.</span><span class="py">yml</span> <span class="n">-OutFile</span> <span class="nb">docker-compose</span><span class="p">.</span><span class="py">yml</span>
</span></span><span class="line"><span class="cl"><span class="nb">Invoke-WebRequest</span> <span class="n">-Uri</span> <span class="n">https</span><span class="err">:</span><span class="p">//</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="nb">immich-app</span><span class="p">/</span><span class="n">immich</span><span class="p">/</span><span class="n">releases</span><span class="p">/</span><span class="n">latest</span><span class="p">/</span><span class="n">download</span><span class="p">/</span><span class="n">example</span><span class="p">.</span><span class="py">env</span> <span class="n">-OutFile</span> <span class="p">.</span><span class="py">env</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="下载完成后你会看到文件夹里多了两个文件docker-composeyml-和-env">下载完成后，你会看到文件夹里多了两个文件：<code>docker-compose.yml</code> 和 <code>.env</code></h3>
<h3 id="双击打开-env-文件用记事本或-notepad修改以下几行其他保持不动">双击打开 <code>.env</code> 文件（用记事本或 Notepad++），修改以下几行（其他保持不动）：</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">UPLOAD_LOCATION=D:/Immich-Backup/library          # 改成你自己的绝对路径，注意斜杠是 /
</span></span><span class="line"><span class="cl">DB_DATA_LOCATION=D:/Immich-Backup/postgres        # 同上
</span></span><span class="line"><span class="cl">DB_PASSWORD=你自己设一个超强密码比如 Abc123456!@#   # 一定要改！
</span></span><span class="line"><span class="cl">TZ=Asia/Shanghai
</span></span></code></pre></td></tr></table>
</div>
</div><p>保存并关闭。</p>
<h3 id="回到刚才的终端窗口一键启动-immich">回到刚才的终端窗口，一键启动 Immich：</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="n">docker</span> <span class="n">compose</span> <span class="n">up</span> <span class="n">-d</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>第一次会下载 2GB 左右镜像，网速快的话 3～8 分钟完成。</p>
<h3 id="启动完毕后浏览器打开-httplocalhost2283">启动完毕后，浏览器打开 http://localhost:2283</h3>
<p>看到 Immich 注册页面 → 注册第一个管理员账号 → 成功！</p>
<h2 id="阶段-3--用-tailscale-实现公网访问">阶段 3 ： 用 Tailscale 实现公网访问</h2>
<h3 id="注册-tailscale-账号">注册 Tailscale 账号</h3>
<p><a class="link" href="https://login.tailscale.com"  target="_blank" rel="noopener"
    >https://login.tailscale.com</a></p>
<h3 id="在要远程的设备上安装-tailscale-客户端">在要远程的设备上安装 Tailscale 客户端</h3>
<p><a class="link" href="https://login.tailscale.com/admin"  target="_blank" rel="noopener"
    >https://login.tailscale.com/admin</a></p>
<p>这里需要两台设备添加进来，可以用手机下载app作为另一个设备。</p>
<h3 id="开启-funnel">开启 Funnel</h3>
<p>终端输入下面的命令，开启Funnel</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tailscale funnel state
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="一键暴露本地服务">一键暴露本地服务</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tailscale funnel --https<span class="o">=</span><span class="m">443</span> <span class="m">2283</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="成功后终端会立刻显示你的公网地址例如">成功后终端会立刻显示你的公网地址，例如：</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">https://beijing-nas.yourname.ts.net
</span></span></code></pre></td></tr></table>
</div>
</div><p>现在任何人都可以直接在浏览器访问这个链接看到你的本地服务了（中国大陆实测电信/联通/移动基本 80~150ms 延迟，2025 年非常稳定）。</p>
<h3 id="后台运行开机自启">后台运行，开机自启</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tailscale funnel --bg --https<span class="o">=</span><span class="m">443</span> <span class="m">2283</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="最终测试">最终测试</h2>
<h3 id="手机下载-immich-app官网--或应用商店搜索-immich">手机下载 Immich App（官网 <a class="link" href="https://immich.app/"  target="_blank" rel="noopener"
    >https://immich.app/</a> 或应用商店搜索 Immich）</h3>
<h3 id="打开-app--手动添加服务器--输入你刚才拿到的公网地址">打开 App → 手动添加服务器 → 输入你刚才拿到的公网地址</h3>
<p>例如：https://beijing-nas.yourname.ts.net（如果用了自定义远程端口就要带端口；如果面板给你的是 80/443 可不写端口）</p>
<h3 id="用刚才注册的账号登录--开启自动备份--几秒后就能看到手机照片开始上传了">用刚才注册的账号登录 → 开启“自动备份” → 几秒后就能看到手机照片开始上传了！</h3>
<p>全部完成！现在你的 Windows 11 电脑已经变成一台随时随地可访问的私人“谷歌相册”了。</p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/blog/zh-cn/tags/tools/">Tools</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">相关文章</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/blog/zh-cn/p/%E5%9C%A8-chrome-%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E8%AE%BE%E7%BD%AE%E9%BB%91%E8%89%B2%E6%A8%A1%E5%BC%8F/">
        
        

        <div class="article-details">
            <h2 class="article-title">在 Chrome 浏览器中设置黑色模式</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/blog/zh-cn/p/git%E6%8A%A5%E9%94%99-failed-to-connect-to-github.com-port-443/">
        
        

        <div class="article-details">
            <h2 class="article-title">Git报错： Failed to connect to github.com port 443</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/blog/zh-cn/p/github-actions%E5%AE%9A%E6%97%B6%E5%8F%91%E9%80%81%E5%A4%A9%E6%B0%94%E9%82%AE%E4%BB%B6/">
        
        

        <div class="article-details">
            <h2 class="article-title">GitHub Actions：定时发送天气邮件</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/blog/zh-cn/p/%E4%BD%BF%E7%94%A8wsl2%E6%8A%80%E6%9C%AF%E5%9C%A8windows%E5%AD%90%E7%B3%BB%E7%BB%9F%E4%B8%8A%E5%AE%89%E8%A3%85ubuntu/">
        
        

        <div class="article-details">
            <h2 class="article-title">使用WSL2技术在Windows子系统上安装Ubuntu</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/blog/zh-cn/p/rest-api-design-rulebook/">
        
        

        <div class="article-details">
            <h2 class="article-title">REST API Design Rulebook</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2025 Javen Blog
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        主题 <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.16.0">Stack</a></b> 由 <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> 设计
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/blog/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
