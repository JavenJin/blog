<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='Machine Learning - Bayesian classification experiments'>
<title>机器学习 - 贝叶斯分类实验</title>

<link rel='canonical' href='https://javenjin.github.io/blog/zh-cn/p/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%88%86%E7%B1%BB%E5%AE%9E%E9%AA%8C/'>

<link rel="stylesheet" href="/blog/scss/style.min.84fddddb435e5cc2e5f82ceae9480ccaf4410b94e3d1c786e727ff9ffc42f753.css"><meta property='og:title' content='机器学习 - 贝叶斯分类实验'>
<meta property='og:description' content='Machine Learning - Bayesian classification experiments'>
<meta property='og:url' content='https://javenjin.github.io/blog/zh-cn/p/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%88%86%E7%B1%BB%E5%AE%9E%E9%AA%8C/'>
<meta property='og:site_name' content='Javen Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Machine Learning' /><meta property='article:tag' content='Python' /><meta property='article:published_time' content='2019-11-04T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2019-11-04T00:00:00&#43;00:00'/>
<meta name="twitter:title" content="机器学习 - 贝叶斯分类实验">
<meta name="twitter:description" content="Machine Learning - Bayesian classification experiments">
    <link rel="shortcut icon" href="https://raw.githubusercontent.com/JavenJin/blog-image/b48e6cab82c8d082866b1e6733ab5ea9be33de2c/favicon/favicon.svg" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="切换菜单">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/blog/zh-cn">
                
                    
                    
                    
                        
                        <img src="/blog/img/avatar_hubf7b15bf5e15ae8b6bb0ceda44d97e9a_739263_300x0_resize_box_3.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">🍥</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/blog/zh-cn">Javen Blog</a></h1>
            <h2 class="site-description">Javen.</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/javenjin'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://instagram.com/kingjie98'
                        target="_blank"
                        title="Ins"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-mail" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path d="M16.65 7.2H16.66M8 20H16C18.2091 20 20 18.2091 20 16V8C20 5.79086 18.2091 4 16 4H8C5.79086 4 4 5.79086 4 8V16C4 18.2091 5.79086 20 8 20ZM15.75 12C15.75 14.0711 14.0711 15.75 12 15.75C9.92893 15.75 8.25 14.0711 8.25 12C8.25 9.92893 9.92893 8.25 12 8.25C14.0711 8.25 15.75 9.92893 15.75 12Z"/>
</svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='mailto:wenjie.jin@hotmail.com'
                        target="_blank"
                        title="Mail"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-mail" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path d="M4 6L10.1076 10.6123L10.1097 10.614C10.7878 11.1113 11.1271 11.3601 11.4988 11.4562C11.8272 11.5412 12.1725 11.5412 12.501 11.4562C12.8729 11.36 13.2132 11.1105 13.8926 10.6123C13.8926 10.6123 17.8101 7.60594 20 6M3 15.8002V8.2002C3 7.08009 3 6.51962 3.21799 6.0918C3.40973 5.71547 3.71547 5.40973 4.0918 5.21799C4.51962 5 5.08009 5 6.2002 5H17.8002C18.9203 5 19.4796 5 19.9074 5.21799C20.2837 5.40973 20.5905 5.71547 20.7822 6.0918C21 6.5192 21 7.07899 21 8.19691V15.8036C21 16.9215 21 17.4805 20.7822 17.9079C20.5905 18.2842 20.2837 18.5905 19.9074 18.7822C19.48 19 18.921 19 17.8031 19H6.19691C5.07899 19 4.5192 19 4.0918 18.7822C3.71547 18.5905 3.40973 18.2842 3.21799 17.9079C3 17.4801 3 16.9203 3 15.8002Z" />
</svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/blog/zh-cn/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>主页</span>
            </a>
        </li>
        
        
        <li >
            <a href='/blog/zh-cn/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>关于</span>
            </a>
        </li>
        
        
        <li >
            <a href='/blog/zh-cn/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>归档</span>
            </a>
        </li>
        
        
        <li >
            <a href='/blog/zh-cn/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>搜索</span>
            </a>
        </li>
        
        
        <li >
            <a href='/blog/zh-cn/%E9%93%BE%E6%8E%A5/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>链接</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
                <li id="i18n-switch">  
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                    <select name="language" onchange="window.location.href = this.selectedOptions[0].value">
                        
                            <option value="https://javenjin.github.io/blog/" >English</option>
                        
                            <option value="https://javenjin.github.io/blog/zh-cn/" selected>中文</option>
                        
                    </select>
                </li>
            
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>暗色模式</span>
                </li>
            
        </div>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">目录</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#机器学习---贝叶斯分类实验">机器学习 - 贝叶斯分类实验</a>
      <ol>
        <li><a href="#1-中文文本分类介绍">1. 中文文本分类介绍</a></li>
        <li><a href="#2-文本分类的一般步骤">2. 文本分类的一般步骤：</a></li>
        <li><a href="#3-具体操作">3. 具体操作</a></li>
        <li><a href="#4-实验步骤">4. 实验步骤</a></li>
        <li><a href="#5-实验完整代码python">5. 实验完整代码python</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/blog/zh-cn/categories/machine-learning/" >
                Machine Learning
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/blog/zh-cn/p/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%88%86%E7%B1%BB%E5%AE%9E%E9%AA%8C/">机器学习 - 贝叶斯分类实验</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            Machine Learning - Bayesian classification experiments
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Nov 04, 2019</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    阅读时长: 4 分钟
                </time>
            </div>
        
    </footer>
    

    
        <footer class="article-translations">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



            <div>
                
                    <a href="https://javenjin.github.io/blog/p/machine-learning-bayesian-classification-experiments/" class="link">English</a>
                
            </div>
        </footer>
    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="机器学习---贝叶斯分类实验">机器学习 - 贝叶斯分类实验</h2>
<h3 id="1-中文文本分类介绍">1. 中文文本分类介绍</h3>
<p>文本挖掘是指从大量的文本数据中抽取事先未知的、可理解的、最终可用的知识的过程，同时运用这些知识更好的组织信息以便将来参考。</p>
<p>主要有以下几个方面的应用：</p>
<p>搜索和信息检索（IR）：存储和文本文档的检索，包括搜索引擎个关键字搜索。</p>
<p>文本聚类：使用聚类方法，对词汇、片段、段落或文件进行分组和归类。</p>
<p>文本分类：对片段、段落或文件进行分组和归类，在使用数据挖掘分类方法的基础上，经过训练的标记示例模型。</p>
<p>Web挖掘：在互联网上进行数据和文本的挖掘，并特别关注网络的规模和相互的联系。</p>
<p>信息抽取（IE）：从非结构化文本中识别与提取有关的事实和关系：从非结构化或半结构化文本中抽取结构化数据的过程。</p>
<p>自然语言处理（NLP）：将语言作为一种有意义、有规则的符号系统，从底层解析和理解语言的任务（例如词性的标注）；目前的技术方法主要从语法、语义的角度发现语言最本质的结构和所表达的意义。</p>
<p>概念的提取：把单词和短语按语义分成意义相似的组。</p>
<h3 id="2-文本分类的一般步骤">2. 文本分类的一般步骤：</h3>
<p>（1）预处理：去除文本的噪声信息，例如HTML标签、文本的格式转换、检测句子边界等。</p>
<p>（2）中文分词：什么是分词？分词有什么用？怎样分词？</p>
<p>例如一句话：“2019年底部队友谊篮球赛结束”，分词结果为2019/年底/部队/友谊/篮球赛/结束。如果分出的词是底部、队友呢？</p>
<p>使用中文分词器为文本分词，并去除停用词。</p>
<p>中文分词和英文分词对比，中文分词难点：没有形式上的分界符。（英文用空格区分单词）</p>
<p>（3）构建词向量空间：统计文本词频，生成文本的词向量空间。</p>
<p>词映射到向量空间。余弦相似度。“快乐”、“高兴”、“悲伤”三个向量的余弦？</p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments1.png"
	
	
	
	loading="lazy"
	
	
></p>
<p>余弦相似度用向量空间中两个向量夹角的余弦值作为衡量两个个体间差异的大小。余弦值越接近1，就表明夹角越接近0度，也就是两个向量越相似，这就叫&quot;余弦相似性&quot;。</p>
<p>（4）权重策略—TF-IDF方法：使用TF-IDF发现特征词，并抽取为反映文档主题的特征。</p>
<p>TF：词频。</p>
<p>IDF：逆向文档频率。</p>
<p>衡量词语重要性的程度。</p>
<p>（5）分类器：使用朴素贝叶斯算法训练分类器。scikit-learn网站介绍。Naive Bayes</p>
<p>（6）评价分类结果：分类器的测试结果分析。</p>
<h3 id="3-具体操作">3. 具体操作</h3>
<p>（1）下载并安装“结巴”jieba类库。https://pypi.org/project/jieba/</p>
<p>学习在python中安装外部类库的方法。</p>
<p>（2）文本语料库的获取和预处理。</p>
<p>常用的语料库：复旦大学谭松波中文文本分类语料库，搜狐新闻文本分类语料库。</p>
<p>停用词的清理。什么是停用词？停用词库的获取。hlt_stop_words.txt</p>
<p>jieba中文分词。安装、使用，自行把一段话用三种模式进行分词。</p>
<p>（3）将分词向量化，TF_IDF方法。</p>
<p>from sklearn.feature_extraction.text import CountVectorizer</p>
<p>from sklearn.feature_extraction.text import TfidfVectorizer</p>
<p>（4）使用朴素贝叶斯分类模块。scikit-learn网站查看、学习Naive Bayes分类算法。</p>
<p>（5）分类结果评估。</p>
<p>from sklearn.metrics import classification_report</p>
<p>from sklearn.metrics import classification accuracy_score</p>
<h3 id="4-实验步骤">4. 实验步骤</h3>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments2.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments3.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments4.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments5.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments6.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments7.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments8.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments9.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments10.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments11.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments12.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments13.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments14.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments15.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments16.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments17.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments18.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments19.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments20.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments21.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments22.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments23.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments24.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments25.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments26.png"
	
	
	
	loading="lazy"
	
	
></p>
<p><img src="https://raw.githubusercontent.com/JavenJin/blog-image/master/content/post/Campus%20Projects/Machine%20Learning/Bayesian%20classification%20experiments/bayesian-classification-experiments27.png"
	
	
	
	loading="lazy"
	
	
></p>
<h3 id="5-实验完整代码python">5. 实验完整代码python</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span><span class="lnt">205
</span><span class="lnt">206
</span><span class="lnt">207
</span><span class="lnt">208
</span><span class="lnt">209
</span><span class="lnt">210
</span><span class="lnt">211
</span><span class="lnt">212
</span><span class="lnt">213
</span><span class="lnt">214
</span><span class="lnt">215
</span><span class="lnt">216
</span><span class="lnt">217
</span><span class="lnt">218
</span><span class="lnt">219
</span><span class="lnt">220
</span><span class="lnt">221
</span><span class="lnt">222
</span><span class="lnt">223
</span><span class="lnt">224
</span><span class="lnt">225
</span><span class="lnt">226
</span><span class="lnt">227
</span><span class="lnt">228
</span><span class="lnt">229
</span><span class="lnt">230
</span><span class="lnt">231
</span><span class="lnt">232
</span><span class="lnt">233
</span><span class="lnt">234
</span><span class="lnt">235
</span><span class="lnt">236
</span><span class="lnt">237
</span><span class="lnt">238
</span><span class="lnt">239
</span><span class="lnt">240
</span><span class="lnt">241
</span><span class="lnt">242
</span><span class="lnt">243
</span><span class="lnt">244
</span><span class="lnt">245
</span><span class="lnt">246
</span><span class="lnt">247
</span><span class="lnt">248
</span><span class="lnt">249
</span><span class="lnt">250
</span><span class="lnt">251
</span><span class="lnt">252
</span><span class="lnt">253
</span><span class="lnt">254
</span><span class="lnt">255
</span><span class="lnt">256
</span><span class="lnt">257
</span><span class="lnt">258
</span><span class="lnt">259
</span><span class="lnt">260
</span><span class="lnt">261
</span><span class="lnt">262
</span><span class="lnt">263
</span><span class="lnt">264
</span><span class="lnt">265
</span><span class="lnt">266
</span><span class="lnt">267
</span><span class="lnt">268
</span><span class="lnt">269
</span><span class="lnt">270
</span><span class="lnt">271
</span><span class="lnt">272
</span><span class="lnt">273
</span><span class="lnt">274
</span><span class="lnt">275
</span><span class="lnt">276
</span><span class="lnt">277
</span><span class="lnt">278
</span><span class="lnt">279
</span><span class="lnt">280
</span><span class="lnt">281
</span><span class="lnt">282
</span><span class="lnt">283
</span><span class="lnt">284
</span><span class="lnt">285
</span><span class="lnt">286
</span><span class="lnt">287
</span><span class="lnt">288
</span><span class="lnt">289
</span><span class="lnt">290
</span><span class="lnt">291
</span><span class="lnt">292
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">jieba</span> <span class="c1">#需要先安装结巴类库，再引入，否则报错</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">seg_list</span><span class="o">=</span><span class="n">jieba</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="s2">&#34;西京网讯：10月31日晚，“庆祝中华人民共和国成立70周年暨西京学院建校25周年教职工竹竿舞比赛”举行。&#34;</span><span class="p">,</span><span class="n">cut_all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Full Mode全切分模式:&#34;</span><span class="p">,</span><span class="s2">&#34;/&#34;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">seg_list</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">seg_list</span><span class="o">=</span><span class="n">jieba</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="s2">&#34;教师五分会的《欢乐西京团》与教师二分会的《跳起来》伴随着活泼的音乐和轻盈的舞蹈，把“欢乐”表现的淋淋尽致。&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;搜索引擎分词模式:&#34;</span><span class="p">,</span><span class="s2">&#34;/&#34;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">seg_list</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">seg_list</span><span class="o">=</span><span class="n">jieba</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="s2">&#34;2019年底部队友谊篮球赛结束&#34;</span><span class="p">,</span><span class="n">cut_all</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;默认切分模式:&#34;</span><span class="p">,</span><span class="s2">&#34;/&#34;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">seg_list</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">seg_list</span><span class="o">=</span><span class="n">jieba</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="s2">&#34;西京网讯：10月31日晚，“庆祝中华人民共和国成立70周年暨西京学院建校25周年教职工竹竿舞比赛”举行。&#34;</span><span class="p">,</span><span class="n">cut_all</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Full Mode全切分模式:&#34;</span><span class="p">,</span><span class="s2">&#34;/&#34;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">seg_list</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#定义读取文件内容的函数</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">readfile</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#注意文本文件的编码格式，使用自己语料库和测试集txt文件的编码格式。</span>
</span></span><span class="line"><span class="cl">    <span class="n">fp</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;ANSI&#39;</span><span class="p">,</span><span class="n">errors</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">content</span><span class="o">=</span><span class="n">fp</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">content</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#定义保存到文件的函数</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">savefile</span><span class="p">(</span><span class="n">savepath</span><span class="p">,</span><span class="n">content</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">fp</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="n">savepath</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;ANSI&#39;</span><span class="p">,</span><span class="n">errors</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">fp</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#定义一个存放训练集分词后各文档内容的列表</span>
</span></span><span class="line"><span class="cl"><span class="n">train_corpus</span><span class="o">=</span><span class="p">[]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#定义一个存放训练集各文档类别标签的列表</span>
</span></span><span class="line"><span class="cl"><span class="n">train_label</span><span class="o">=</span><span class="p">[]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#未分词的训练集语料库路径，替换为自己电脑保存的路径。train_corpus文件夹。</span>
</span></span><span class="line"><span class="cl"><span class="n">corpus_path</span><span class="o">=</span><span class="s2">&#34;E:/program/train_corpus/&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#训练集分词以后存放路径，自己提前建立好名字为seg_train_corpus的空文件夹</span>
</span></span><span class="line"><span class="cl"><span class="n">save_path</span><span class="o">=</span><span class="s2">&#34;E:/program/seg_train_corpus/&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#获取未分词的语料库下所有子目录列表</span>
</span></span><span class="line"><span class="cl"><span class="n">cate_list</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">corpus_path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;努力分词中，请稍等.........&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#获取每个子目录下的所有文件</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">mydir</span> <span class="ow">in</span> <span class="n">cate_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">class_path</span><span class="o">=</span><span class="n">corpus_path</span><span class="o">+</span><span class="n">mydir</span><span class="o">+</span><span class="s1">&#39;/&#39;</span>  <span class="c1">#语料集中的某个子目录路径</span>
</span></span><span class="line"><span class="cl">    <span class="n">seg_dir</span><span class="o">=</span><span class="n">save_path</span><span class="o">+</span><span class="n">mydir</span><span class="o">+</span><span class="s1">&#39;/&#39;</span>  <span class="c1">#分类后的子目录路径</span>
</span></span><span class="line"><span class="cl">    <span class="n">file_list</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">class_path</span><span class="p">)</span>  <span class="c1">#获取具体的文件名称列表</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">file_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">fullname</span><span class="o">=</span><span class="n">class_path</span> <span class="o">+</span> <span class="n">file_path</span>
</span></span><span class="line"><span class="cl">        <span class="n">content</span><span class="o">=</span><span class="n">readfile</span><span class="p">(</span><span class="n">fullname</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1">#str.strip()就是把字符串(str)的头和尾的空格，以及位于头尾的\n \t之类给删掉</span>
</span></span><span class="line"><span class="cl">        <span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&#34;</span><span class="se">\r\n</span><span class="s2">&#34;</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1">#删除换行和多余的空格</span>
</span></span><span class="line"><span class="cl">       
</span></span><span class="line"><span class="cl">        <span class="n">content_seg</span><span class="o">=</span><span class="n">jieba</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="n">savefile</span><span class="p">(</span><span class="n">seg_dir</span><span class="o">+</span><span class="n">file_path</span><span class="p">,</span><span class="s2">&#34; &#34;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">content_seg</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="n">train_label</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mydir</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                        
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;训练集语料库文本分词结束！&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">oldpath</span><span class="o">=</span><span class="sa">r</span><span class="s2">&#34;e:/program/seg_train_corpus/&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">newpath</span><span class="o">=</span><span class="sa">r</span><span class="s2">&#34;e:/program/seg_val_corpus/&#34;</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">random</span>  <span class="c1">#随机排序文件</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">shutil</span>
</span></span><span class="line"><span class="cl"><span class="c1">#从训练集中随机取出20%的文件，保存为验证集。</span>
</span></span><span class="line"><span class="cl"><span class="n">catelist</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">oldpath</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">eachlist</span> <span class="ow">in</span> <span class="n">catelist</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">fullpath</span><span class="o">=</span><span class="n">oldpath</span><span class="o">+</span><span class="n">eachlist</span>
</span></span><span class="line"><span class="cl">    <span class="n">newvalpath</span><span class="o">=</span><span class="n">newpath</span><span class="o">+</span><span class="n">eachlist</span><span class="o">+</span><span class="s2">&#34;/&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">isExists</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">newvalpath</span><span class="p">)</span>   <span class="c1">#判断路径是否存在，若存在，报错。不存在，创建。</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">isExists</span><span class="o">==</span><span class="kc">True</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">newvalpath</span><span class="o">+</span><span class="s2">&#34;目录已存在，将不再保存新的文件！请确认是否已划分好。&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">newvalpath</span><span class="p">,</span><span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">filename</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">fullpath</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">filenumber</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="c1">#将文件随机排序</span>
</span></span><span class="line"><span class="cl">        <span class="n">splitfile</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">filenumber</span><span class="o">*</span><span class="mf">0.2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">splitfile</span><span class="p">):</span>  <span class="c1">#将随机抽取出的20%文件保存到验证集目录下。</span>
</span></span><span class="line"><span class="cl">            <span class="n">src</span><span class="o">=</span><span class="n">fullpath</span><span class="o">+</span><span class="s2">&#34;/&#34;</span><span class="o">+</span><span class="n">filename</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">            <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">src</span><span class="p">,</span><span class="n">newvalpath</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;目录&#34;</span><span class="o">+</span><span class="n">newvalpath</span><span class="o">+</span><span class="s2">&#34;创建成功！&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;训练集和验证集划分完毕&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">newvalpath</span>
</span></span><span class="line"><span class="cl">     
</span></span><span class="line"><span class="cl"><span class="c1">#对测试集文档进行分词。注意，测试集中直接保存的文档，没有子目录。</span>
</span></span><span class="line"><span class="cl"><span class="n">test_corpus_path</span><span class="o">=</span><span class="s2">&#34;E:/program/test_corpus/&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">save_test_path</span><span class="o">=</span><span class="s2">&#34;E:/program/seg_test_corpus/&#34;</span>  <span class="c1">#自行建立该文件夹</span>
</span></span><span class="line"><span class="cl"><span class="n">test_file_list</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">test_corpus_path</span><span class="p">)</span>  <span class="c1">#获取具体的文件名称列表</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;努力分词中，请稍等.........&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">test_file_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">fullname</span><span class="o">=</span><span class="n">test_corpus_path</span> <span class="o">+</span> <span class="n">file_path</span>
</span></span><span class="line"><span class="cl">        <span class="n">content</span><span class="o">=</span><span class="n">readfile</span><span class="p">(</span><span class="n">fullname</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1">#str.strip()就是把字符串(str)的头和尾的空格，以及位于头尾的\n \t之类给删掉</span>
</span></span><span class="line"><span class="cl">        <span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&#34;</span><span class="se">\r\n</span><span class="s2">&#34;</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1">#删除换行和多余的空格</span>
</span></span><span class="line"><span class="cl">       
</span></span><span class="line"><span class="cl">        <span class="n">content_seg</span><span class="o">=</span><span class="n">jieba</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="n">savefile</span><span class="p">(</span><span class="n">save_test_path</span><span class="o">+</span><span class="n">file_path</span><span class="p">,</span><span class="s2">&#34; &#34;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">content_seg</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">                        
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;测试集语料库文本分词结束！&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.datasets.base</span> <span class="kn">import</span> <span class="n">Bunch</span>
</span></span><span class="line"><span class="cl"><span class="n">bunch</span> <span class="o">=</span> <span class="n">Bunch</span><span class="p">(</span><span class="n">target_name</span><span class="o">=</span><span class="p">[],</span><span class="n">label</span><span class="o">=</span><span class="p">[],</span><span class="n">filenames</span><span class="o">=</span><span class="p">[],</span><span class="n">contents</span><span class="o">=</span><span class="p">[])</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#先对训练集进行操作</span>
</span></span><span class="line"><span class="cl"><span class="n">wordbag_path</span><span class="o">=</span><span class="s2">&#34;E:/program/train_word_bag/train_set.dat&#34;</span><span class="c1">#train_word_bag文件夹已经自己创建</span>
</span></span><span class="line"><span class="cl"><span class="n">seg_path</span><span class="o">=</span><span class="s2">&#34;E:/program/seg_train_corpus/&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">cate_list</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">seg_path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">bunch</span><span class="o">.</span><span class="n">target_name</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">cate_list</span><span class="p">)</span><span class="c1">#将类别信息保存到Bunch对象</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">mydir</span> <span class="ow">in</span> <span class="n">cate_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">class_path</span><span class="o">=</span><span class="n">seg_path</span><span class="o">+</span><span class="n">mydir</span><span class="o">+</span><span class="s2">&#34;/&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">file_list</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">class_path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">file_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">fullname</span><span class="o">=</span><span class="n">class_path</span><span class="o">+</span><span class="n">file_path</span>
</span></span><span class="line"><span class="cl">        <span class="n">bunch</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mydir</span><span class="p">)</span><span class="c1">#保存当前文件的分类标签</span>
</span></span><span class="line"><span class="cl">        <span class="n">bunch</span><span class="o">.</span><span class="n">filenames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fullname</span><span class="p">)</span><span class="c1">#保存当前文件的文件路径</span>
</span></span><span class="line"><span class="cl">        <span class="n">bunch</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">readfile</span><span class="p">(</span><span class="n">fullname</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span><span class="c1">#保存文件词向量</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#Bunch对象持久化</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pickle</span>
</span></span><span class="line"><span class="cl"><span class="n">file_obj</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="n">wordbag_path</span><span class="p">,</span><span class="s2">&#34;wb&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">bunch</span><span class="p">,</span><span class="n">file_obj</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">file_obj</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;训练集构建文本对象结束&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">feature_extraction</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">TfidfTransformer</span><span class="c1">#TF-IDF向量转换类</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">TfidfVectorizer</span><span class="c1">#TF-IDF向量生成类</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">readbunchobj</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">file_obj</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s2">&#34;rb&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">bunch</span><span class="o">=</span><span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file_obj</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">file_obj</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">bunch</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">writebunchobj</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="n">bunchobj</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">file_obj</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s2">&#34;wb&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">bunchobj</span><span class="p">,</span><span class="n">file_obj</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">file_obj</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">readfile</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s2">&#34;r&#34;</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;ANSI&#39;</span><span class="p">,</span><span class="n">errors</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">content</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">content</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">path</span><span class="o">=</span><span class="s2">&#34;E:/program/train_word_bag/train_set.dat&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">bunch</span><span class="o">=</span><span class="n">readbunchobj</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#停用词</span>
</span></span><span class="line"><span class="cl"><span class="n">stopword_path</span><span class="o">=</span><span class="s2">&#34;E:/program/hlt_stop_words.txt&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">stpwrdlst</span><span class="o">=</span><span class="n">readfile</span><span class="p">(</span><span class="n">stopword_path</span><span class="p">)</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1">#构建TF-IDF词向量空间对象</span>
</span></span><span class="line"><span class="cl"><span class="n">tfidfspace</span><span class="o">=</span><span class="n">Bunch</span><span class="p">(</span><span class="n">target_name</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">target_name</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">label</span><span class="p">,</span><span class="n">filenames</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">filenames</span><span class="p">,</span><span class="n">tdm</span><span class="o">=</span><span class="p">[],</span><span class="n">vocabulary</span><span class="o">=</span><span class="p">{})</span>
</span></span><span class="line"><span class="cl"><span class="c1">#使用TfidVectorizer初始化向量空间模型</span>
</span></span><span class="line"><span class="cl"><span class="n">vectorizer</span><span class="o">=</span><span class="n">TfidfVectorizer</span><span class="p">(</span><span class="n">stop_words</span><span class="o">=</span><span class="n">stpwrdlst</span><span class="p">,</span><span class="n">sublinear_tf</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">max_df</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#transformer=TfidfTransformer()#该类会统计每个词语的TF-IDF权值</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#文本转为词频矩阵，单独保存字典文件</span>
</span></span><span class="line"><span class="cl"><span class="n">tfidfspace</span><span class="o">.</span><span class="n">tdm</span><span class="o">=</span><span class="n">vectorizer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">bunch</span><span class="o">.</span><span class="n">contents</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">tfidfspace</span><span class="o">.</span><span class="n">vocabulary</span><span class="o">=</span><span class="n">vectorizer</span><span class="o">.</span><span class="n">vocabulary_</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#创建词袋的持久化</span>
</span></span><span class="line"><span class="cl"><span class="n">space_path</span><span class="o">=</span><span class="s2">&#34;E:/program/train_word_bag/tfidfspace.dat&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">writebunchobj</span><span class="p">(</span><span class="n">space_path</span><span class="p">,</span><span class="n">tfidfspace</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">tfidfspace</span><span class="o">.</span><span class="n">tdm</span><span class="o">.</span><span class="n">shape</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">bunch</span> <span class="o">=</span> <span class="n">Bunch</span><span class="p">(</span><span class="n">target_name</span><span class="o">=</span><span class="p">[],</span><span class="n">label</span><span class="o">=</span><span class="p">[],</span><span class="n">filenames</span><span class="o">=</span><span class="p">[],</span><span class="n">contents</span><span class="o">=</span><span class="p">[])</span> 
</span></span><span class="line"><span class="cl"><span class="n">wordbag_path</span><span class="o">=</span><span class="s2">&#34;E:/program/val_word_bag/val_set.dat&#34;</span><span class="c1">#train_word_bag文件夹已经自己创建</span>
</span></span><span class="line"><span class="cl"><span class="n">seg_path</span><span class="o">=</span><span class="s2">&#34;E:/program/seg_val_corpus/&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">cate_list</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">seg_path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">bunch</span><span class="o">.</span><span class="n">target_name</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">cate_list</span><span class="p">)</span><span class="c1">#将类别信息保存到Bunch对象</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">mydir</span> <span class="ow">in</span> <span class="n">cate_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">class_path</span><span class="o">=</span><span class="n">seg_path</span><span class="o">+</span><span class="n">mydir</span><span class="o">+</span><span class="s2">&#34;/&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">file_list</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">class_path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">file_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">fullname</span><span class="o">=</span><span class="n">class_path</span><span class="o">+</span><span class="n">file_path</span>
</span></span><span class="line"><span class="cl">        <span class="n">bunch</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mydir</span><span class="p">)</span><span class="c1">#保存当前文件的分类标签</span>
</span></span><span class="line"><span class="cl">        <span class="n">bunch</span><span class="o">.</span><span class="n">filenames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fullname</span><span class="p">)</span><span class="c1">#保存当前文件的文件路径</span>
</span></span><span class="line"><span class="cl">        <span class="n">bunch</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">readfile</span><span class="p">(</span><span class="n">fullname</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span><span class="c1">#保存文件词向量</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#Bunch对象持久化</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pickle</span>
</span></span><span class="line"><span class="cl"><span class="n">file_obj</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="n">wordbag_path</span><span class="p">,</span><span class="s2">&#34;wb&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">bunch</span><span class="p">,</span><span class="n">file_obj</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">file_obj</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;验证集构建文本对象结束&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#对于验证集生成向量空间，在训练词向量模型时需要加载训练集词袋，将验证集产生的词向量映射到训练集词袋的词典中，生成向量空间模型</span>
</span></span><span class="line"><span class="cl"><span class="n">path</span><span class="o">=</span><span class="s2">&#34;E:/program/val_word_bag/val_set.dat&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">bunch</span><span class="o">=</span><span class="n">readbunchobj</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#停用词</span>
</span></span><span class="line"><span class="cl"><span class="n">stopword_path</span><span class="o">=</span><span class="s2">&#34;E:/program/hlt_stop_words.txt&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">stpwrdlst</span><span class="o">=</span><span class="n">readfile</span><span class="p">(</span><span class="n">stopword_path</span><span class="p">)</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1">#构建TF-IDF词向量空间对象</span>
</span></span><span class="line"><span class="cl"><span class="n">tfidfspace</span><span class="o">=</span><span class="n">Bunch</span><span class="p">(</span><span class="n">target_name</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">target_name</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">label</span><span class="p">,</span><span class="n">filenames</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">filenames</span><span class="p">,</span><span class="n">tdm</span><span class="o">=</span><span class="p">[],</span><span class="n">vocabulary</span><span class="o">=</span><span class="p">{})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#导入训练集词袋</span>
</span></span><span class="line"><span class="cl"><span class="n">train_path</span><span class="o">=</span><span class="s2">&#34;E:/program/train_word_bag/tfidfspace.dat&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">trainbunch</span><span class="o">=</span><span class="n">readbunchobj</span><span class="p">(</span><span class="n">train_path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#使用TfidVectorizer初始化向量空间模型</span>
</span></span><span class="line"><span class="cl"><span class="n">vectorizer</span><span class="o">=</span><span class="n">TfidfVectorizer</span><span class="p">(</span><span class="n">stop_words</span><span class="o">=</span><span class="n">stpwrdlst</span><span class="p">,</span><span class="n">sublinear_tf</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">max_df</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">vocabulary</span><span class="o">=</span><span class="n">trainbunch</span><span class="o">.</span><span class="n">vocabulary</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#transformer=TfidfTransformer()#该类会统计每个词语的TF-IDF权值</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#文本转为词频矩阵，单独保存字典文件</span>
</span></span><span class="line"><span class="cl"><span class="n">tfidfspace</span><span class="o">.</span><span class="n">tdm</span><span class="o">=</span><span class="n">vectorizer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">bunch</span><span class="o">.</span><span class="n">contents</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">tfidfspace</span><span class="o">.</span><span class="n">vocabulary</span><span class="o">=</span><span class="n">trainbunch</span><span class="o">.</span><span class="n">vocabulary</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#创建词袋的持久化</span>
</span></span><span class="line"><span class="cl"><span class="n">space_path</span><span class="o">=</span><span class="s2">&#34;E:/program/val_word_bag/tfidfspace.dat&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">writebunchobj</span><span class="p">(</span><span class="n">space_path</span><span class="p">,</span><span class="n">tfidfspace</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">type</span><span class="p">(</span><span class="n">tfidfspace</span><span class="o">.</span><span class="n">tdm</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">tfidfspace</span><span class="o">.</span><span class="n">tdm</span><span class="o">.</span><span class="n">shape</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">bunch</span> <span class="o">=</span> <span class="n">Bunch</span><span class="p">(</span><span class="n">target_name</span><span class="o">=</span><span class="p">[],</span><span class="n">label</span><span class="o">=</span><span class="p">[],</span><span class="n">filenames</span><span class="o">=</span><span class="p">[],</span><span class="n">contents</span><span class="o">=</span><span class="p">[])</span> 
</span></span><span class="line"><span class="cl"><span class="n">wordbag_path</span><span class="o">=</span><span class="s2">&#34;E:/program/test_word_bag/test_set.dat&#34;</span><span class="c1">#test_word_bag文件夹已经自己创建</span>
</span></span><span class="line"><span class="cl"><span class="n">seg_path</span><span class="o">=</span><span class="s2">&#34;E:/program/seg_test_corpus/&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">file_list</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">seg_path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">file_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">fullname</span><span class="o">=</span><span class="n">seg_path</span><span class="o">+</span><span class="n">file_path</span>
</span></span><span class="line"><span class="cl">        <span class="n">bunch</span><span class="o">.</span><span class="n">filenames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fullname</span><span class="p">)</span><span class="c1">#保存当前文件的文件路径</span>
</span></span><span class="line"><span class="cl">        <span class="n">bunch</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">readfile</span><span class="p">(</span><span class="n">fullname</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span><span class="c1">#保存文件词向量</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#Bunch对象持久化</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">file_obj</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="n">wordbag_path</span><span class="p">,</span><span class="s2">&#34;wb&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">bunch</span><span class="p">,</span><span class="n">file_obj</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">file_obj</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;测试集构建文本对象结束&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">path</span><span class="o">=</span><span class="s2">&#34;E:/program/test_word_bag/test_set.dat&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">bunch</span><span class="o">=</span><span class="n">readbunchobj</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#停用词</span>
</span></span><span class="line"><span class="cl"><span class="n">stopword_path</span><span class="o">=</span><span class="s2">&#34;E:/program/hlt_stop_words.txt&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">stpwrdlst</span><span class="o">=</span><span class="n">readfile</span><span class="p">(</span><span class="n">stopword_path</span><span class="p">)</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1">#构建TF-IDF词向量空间对象</span>
</span></span><span class="line"><span class="cl"><span class="n">tfidfspace</span><span class="o">=</span><span class="n">Bunch</span><span class="p">(</span><span class="n">target_name</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">target_name</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">label</span><span class="p">,</span><span class="n">filenames</span><span class="o">=</span><span class="n">bunch</span><span class="o">.</span><span class="n">filenames</span><span class="p">,</span><span class="n">tdm</span><span class="o">=</span><span class="p">[],</span><span class="n">vocabulary</span><span class="o">=</span><span class="p">{})</span>
</span></span><span class="line"><span class="cl"><span class="c1">#使用TfidVectorizer初始化向量空间模型</span>
</span></span><span class="line"><span class="cl"><span class="n">vectorizer</span><span class="o">=</span><span class="n">TfidfVectorizer</span><span class="p">(</span><span class="n">stop_words</span><span class="o">=</span><span class="n">stpwrdlst</span><span class="p">,</span><span class="n">sublinear_tf</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">max_df</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">transfoemer</span><span class="o">=</span><span class="n">TfidfTransformer</span><span class="p">()</span><span class="c1">#该类会统计每个词语的TF-IDF权值</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#文本转为词频矩阵，单独保存字典文件</span>
</span></span><span class="line"><span class="cl"><span class="n">tfidfspace</span><span class="o">.</span><span class="n">tdm</span><span class="o">=</span><span class="n">vectorizer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">bunch</span><span class="o">.</span><span class="n">contents</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#tfidfspace.vocabulary=vectorizer.vocabulary</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#创建词袋的持久化</span>
</span></span><span class="line"><span class="cl"><span class="n">space_path</span><span class="o">=</span><span class="s2">&#34;E:/program/test_word_bag/tfidfspace.dat&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">writebunchobj</span><span class="p">(</span><span class="n">space_path</span><span class="p">,</span><span class="n">tfidfspace</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">MultinomialNB</span><span class="c1"># 导入多项式贝叶斯算法包</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 导入训练集向量空间</span>
</span></span><span class="line"><span class="cl"><span class="n">trainpath</span> <span class="o">=</span> <span class="s2">&#34;E:/program/train_word_bag/tfidfspace.dat&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">train_set</span> <span class="o">=</span> <span class="n">readbunchobj</span><span class="p">(</span><span class="n">trainpath</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 导入验证集向量空间</span>
</span></span><span class="line"><span class="cl"><span class="n">valpath</span> <span class="o">=</span> <span class="s2">&#34;E:/program/val_word_bag/tfidfspace.dat&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">val_set</span> <span class="o">=</span> <span class="n">readbunchobj</span><span class="p">(</span><span class="n">valpath</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 应用贝叶斯算法</span>
</span></span><span class="line"><span class="cl"><span class="c1"># alpha:0.001 alpha 越小，迭代次数越多，精度越高</span>
</span></span><span class="line"><span class="cl"><span class="n">clf</span> <span class="o">=</span> <span class="n">MultinomialNB</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.001</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">train_set</span><span class="o">.</span><span class="n">tdm</span><span class="p">,</span> <span class="n">train_set</span><span class="o">.</span><span class="n">label</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 预测分类结果</span>
</span></span><span class="line"><span class="cl"><span class="n">predicted</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">val_set</span><span class="o">.</span><span class="n">tdm</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">total</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">predicted</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">rate</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">flabel</span><span class="p">,</span> <span class="n">file_name</span><span class="p">,</span> <span class="n">expct_cate</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">val_set</span><span class="o">.</span><span class="n">label</span><span class="p">,</span> <span class="n">val_set</span><span class="o">.</span><span class="n">filenames</span><span class="p">,</span> <span class="n">predicted</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">flabel</span> <span class="o">!=</span> <span class="n">expct_cate</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">rate</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span><span class="s2">&#34;: 实际类别：&#34;</span><span class="p">,</span> <span class="n">flabel</span><span class="p">,</span><span class="s2">&#34;--&gt;预测分类：&#34;</span><span class="p">,</span> <span class="n">expct_cate</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 精度</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;error_rate:&#34;</span><span class="p">,</span><span class="nb">float</span><span class="p">(</span><span class="n">rate</span><span class="p">)</span> <span class="o">*</span><span class="mi">100</span> <span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="n">total</span><span class="p">),</span><span class="s2">&#34;%&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">metrics</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">metrics_result</span><span class="p">(</span><span class="n">actual</span><span class="p">,</span><span class="n">predict</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;精度：</span><span class="si">{0:.3f}</span><span class="s2">&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">metrics</span><span class="o">.</span><span class="n">precision_score</span><span class="p">(</span><span class="n">actual</span><span class="p">,</span><span class="n">predict</span><span class="p">,</span><span class="n">average</span><span class="o">=</span><span class="s1">&#39;weighted&#39;</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;召回：</span><span class="si">{0:0.3f}</span><span class="s2">&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">metrics</span><span class="o">.</span><span class="n">recall_score</span><span class="p">(</span><span class="n">actual</span><span class="p">,</span><span class="n">predict</span><span class="p">,</span><span class="n">average</span><span class="o">=</span><span class="s1">&#39;weighted&#39;</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;f1-score:</span><span class="si">{0:.3f}</span><span class="s2">&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">metrics</span><span class="o">.</span><span class="n">f1_score</span><span class="p">(</span><span class="n">actual</span><span class="p">,</span><span class="n">predict</span><span class="p">,</span><span class="n">average</span><span class="o">=</span><span class="s1">&#39;weighted&#39;</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl"><span class="n">metrics_result</span><span class="p">(</span><span class="n">test_set</span><span class="o">.</span><span class="n">label</span><span class="p">,</span> <span class="n">predicted</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/blog/zh-cn/tags/machine-learning/">Machine Learning</a>
        
            <a href="/blog/zh-cn/tags/python/">Python</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css"integrity="sha256-J&#43;iAE0sgH8QSz9hpcDxXIftnj65JEZgNhGcgReTTK9s="crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js"integrity="sha256-InsNdER1b2xUewP&#43;pKCUJpkhiqwHgqiPXDlIk7GzBu4="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js"integrity="sha256-y39Mpg7V3D4lhBX4x6O0bUqTV4pSrfgwEfGKfxkOdgI="crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.querySelector(`.article-content`), {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ],
            ignoredClasses: ["gist"]
        });})
</script>
    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">相关文章</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/blog/zh-cn/p/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BC%B0%E4%B8%8E%E9%80%89%E6%8B%A9-k-means%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95%E5%AE%9E%E9%AA%8C/">
        
        

        <div class="article-details">
            <h2 class="article-title">机器学习 - 模型评估与选择 &amp; K-means聚类算法实验</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/blog/zh-cn/p/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92%E5%AE%9E%E9%AA%8C/">
        
        

        <div class="article-details">
            <h2 class="article-title">机器学习 - 逻辑回归实验</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/blog/zh-cn/p/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92%E5%AE%9E%E9%AA%8C/">
        
        

        <div class="article-details">
            <h2 class="article-title">机器学习 - 线性回归实验</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2024 Javen Blog
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        主题 <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.16.0">Stack</a></b> 由 <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> 设计
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/blog/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
